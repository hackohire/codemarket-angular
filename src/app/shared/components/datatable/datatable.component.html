<table style="width: 100%;" mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">
    <!-- Position Column -->

    <div *ngFor="let col of displayedColumns; let j = index">
            <ng-container [ngSwitch]="col" [matColumnDef]="col">

                <ng-container *ngSwitchCase="'number'">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> No. </th>
                    <td mat-cell *matCellDef="let element; let i = index;">{{i + 1}} </td>
                </ng-container>

                <ng-container *ngSwitchCase="'createdBy'">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'User'}} </th>
                    <td mat-cell *matCellDef="let element; let i = index;">{{element[col]['name']}}</td>
                </ng-container>

                <ng-container *ngSwitchCase="'createdAt'">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'Date'}} </th>
                    <td mat-cell *matCellDef="let element; let i = index;">{{element[col] | date}}</td>
                </ng-container>


                <ng-container *ngSwitchCase="'price'">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'Price'}} </th>
                        <td mat-cell *matCellDef="let element; let i = index;">{{element[col] | currency}}</td>
                </ng-container>

                <ng-container *ngSwitchCase="'category'">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'Category'}} </th>
                        <td mat-cell *matCellDef="let element; let i = index;">
                            <span *ngFor="let c of element?.tags; let ei = index">{{c?.name + (ei === element?.length - 1 ? '' : ', ' )}}</span>
                        </td>
                </ng-container>

                <ng-container *ngSwitchCase="'productCount'">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'BugFixes'}} </th>
                        <td mat-cell *matCellDef="let element; let i = index;">{{element[col]}}</td>
                </ng-container>

                <ng-container *ngSwitchCase="'name'">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{col}} </th>
                        <td (click)="redirect.emit(element)" mat-cell *matCellDef="let element; let i = index;">
                            <a class="titlebtm">{{element[col]}}</a>
                        </td>
                </ng-container>

                <ng-container *ngSwitchDefault>
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> {{col}} </th>
                    <td mat-cell *matCellDef="let element; let i = index;">{{element[col]}}</td>
                </ng-container>
            </ng-container>
        </div>
    
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let helpRequest; columns: displayedColumns; let i = index;"
        class="example-product-row">
    </tr>
    <div style="height: 100vh"></div>
</table>