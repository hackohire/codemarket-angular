<app-breadcumb [title]="breadcumb?.title" [path]="breadcumb?.path"></app-breadcumb>

<table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">
    <!-- Position Column -->
    <ng-container matColumnDef="number">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> No. </th>
        <td mat-cell *matCellDef="let event; let i = index;">{{i + 1}} </td>
        <!-- <mat-cell *matCellDef="let event; let i = index;">{{i + 1}}</mat-cell> -->
    </ng-container>

    <!-- Name Column -->
    <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
        <td (click)="postService?.redirectToPostDetails(event)" mat-cell *matCellDef="let event"> <a>{{event.name}}</a> </td>
    </ng-container>

    <!-- Price Column -->
    <ng-container matColumnDef="price">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Price </th>
        <td mat-cell *matCellDef="let event"> {{event.price | currency}} </td>
    </ng-container>

    <ng-container matColumnDef="from">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'From'}} </th>
        <td mat-cell *matCellDef="let event; let i = index;">{{event['dateRange'][0] | date: 'dd/MM/yyyy hh:ss'}}</td>
    </ng-container>

    <ng-container matColumnDef="to">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'To'}} </th>
        <td mat-cell *matCellDef="let event; let i = index;">{{event['dateRange'][1] | date: 'dd/MM/yyyy hh:ss'}}</td>
    </ng-container>

    <ng-container matColumnDef="host">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'Host'}} </th>
        <td mat-cell *matCellDef="let event; let i = index;">{{event['createdBy']['name']}}</td>
    </ng-container>

    <!-- Action Column -->
    <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Action </th>
        <td mat-cell *matCellDef="let event" (click)="$event.stopPropagation()">
            <button mat-mini-fab color="warn" (click)="cancelRSVP(event._id)">
                <mat-icon>close</mat-icon>
            </button>
        </td>
    </ng-container>


    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns; let i = index;" class="example-detail-row"></tr>
</table>